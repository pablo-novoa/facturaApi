"use strict";angular.module("eFacturaApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","ui.select","ngCsv","auth0.lock","angular-jwt"]).config(["$routeProvider","lockProvider","jwtOptionsProvider","$httpProvider",function(a,b,c,d){a.when("/",{redirectTo:"/factura"}).when("/",{templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"home"}).when("/factura",{templateUrl:"views/factura.html",controller:"FacturaCtrl",controllerAs:"factura"}).when("/factura/tipo2",{templateUrl:"views/facturatipo2.html",controller:"FacturaCtrl",controllerAs:"factura"}).when("/clientes",{templateUrl:"views/clientes.html",controller:"ClientesCtrl",controllerAs:"clientes"}).when("/clientes/editar/:id",{templateUrl:"views/edit-cliente.html",controller:"EditClienteCtrl",controllerAs:"editCliente"}).when("/clientes/nuevo",{templateUrl:"views/add-cliente.html",controller:"AddClienteCtrl",controllerAs:"addCliente"}).when("/reporte",{templateUrl:"views/reporte.html",controller:"ReporteCtrl",controllerAs:"reporte"}).when("/perfil",{templateUrl:"views/edit-perfil.html",controller:"EditPerfilCtrl",controllerAs:"editPerfil"}).when("/reporte/:id",{templateUrl:"views/docdetails.html",controller:"DocdetailsCtrl",controllerAs:"docDetails"}).otherwise({redirectTo:"/"}),b.init({clientID:"hb048Whxrcdt0aoSYTeuElCU0p2voyQ0",domain:"e-factura.auth0.com"}),c.config({authPrefix:"Bearer ",tokenGetter:function(){return localStorage.getItem("id_token")}}),d.interceptors.push("jwtInterceptor")}]).run(["$rootScope","authService","lock","authManager",function(a,b,c,d){a.authService=b,b.registerAuthenticationListener(),c.interceptHash(),d.checkAuthOnRefresh()}]),angular.module("eFacturaApp").controller("MainhudCtrl",["$scope",function(a){a.menuSecondStatus=!1,a.menuToggle=function(){a.menuSecondStatus=!a.menuSecondStatus},a.menuToggle_itemClick=function(){a.menuSecondStatus=!1}}]),angular.module("eFacturaApp").controller("FacturaCtrl",["$scope","Clients",function(a,b){a.clientes=b.getAll(),a.clientSelected={value:{}},a.subTotal=0,a.iva=0,a.ivaPorcent=22,a.total=0,a.moneda="UYU",a.monedaAnt="UYU",a.tiposMoneda=[{tipo:"UYU",codigo:858,cotizacion:1},{tipo:"USD",codigo:840,cotizacion:30}],a.billItems=[],a.cantidad=1,a.add=function(){if(a.precio){var b=Math.round(100*a.precio)/100,c={cantidad:a.cantidad,precio:b,desc:a.desc};a.billItems.push(c)}a.cantidad=1,a.precio=null,a.desc=null,a.totalCalculate()},a.removeItem=function(b){a.billItems.splice(b,1),a.totalCalculate()},a.totalCalculate=function(){a.subTotal=0,a.billItems.forEach(function(b,c){a.subTotal+=b.precio*b.cantidad}),a.iva=a.subTotal*(.01*a.ivaPorcent),a.total=a.subTotal+a.iva,a.subTotal=Math.round(100*a.subTotal)/100,a.iva=Math.round(100*a.iva)/100,a.total=Math.round(100*a.total)/100}}]),angular.module("eFacturaApp").controller("HomeCtrl",["$scope","Clients","$http",function(a,b,c){a.clientTest=b.getTest()}]),angular.module("eFacturaApp").controller("ClientesCtrl",["$scope","Clients",function(a,b){a.sortType="nombre",a.sortReverse=!1,a.searchFish="",a.clientesLista=b.getAll()}]),angular.module("eFacturaApp").directive("fixedwidth",function(){return function(a,b,c){angular.element(document).ready(function(){var c=b.parent().innerWidth();b.width(c),b.css("position","fixed"),a.$apply()}),angular.element(window).resize(function(){var c=b.parent().innerWidth();b.width(c),b.css("position","fixed"),a.$apply()})}}),angular.module("eFacturaApp").controller("EditClienteCtrl",["$scope","$routeParams","Clients",function(a,b,c){a.id=b.id,a.cliente=c.getSingle(a.id)}]),angular.module("eFacturaApp").controller("AddClienteCtrl",["$scope",function(a){a.typeSelected=!1,a.clientType=!1,a.setType=function(b){a.typeSelected=!0,a.clientType=b}}]),angular.module("eFacturaApp").controller("ReporteCtrl",["$scope","Facturas","Clients",function(a,b,c){a.facturasLista=b.getAll()}]),angular.module("eFacturaApp").service("Clients",["$http",function(a){this.getTest=function(){a({method:"GET",url:"http://local.factura-api.com/clientes"}).then(function(a){return console.log(a.data),a},function(a){return console.log(a),a})},this.getAll=function(){var a=[{id:1,type:"business",rut_CI:"213890530011",nombre:"AGROTERRA S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Montevideo",ciudad:"",direccion:"Cuareim 1920",tel:"",cel:"",email:""},{id:2,type:"business",rut_CI:"216046470017",nombre:"AGROCENTRO S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Cerro Largo",ciudad:"",direccion:"Bvr. Aparicio Saravia S/N",tel:"",cel:"",email:""},{id:3,type:"business",rut_CI:"060020070016",nombre:"AGROMOTORA FLORES",nombre_fantasia:"",nombre_contacto:"",departamento:"Flores",ciudad:"",direccion:"Fondar 887",tel:"",cel:"",email:""},{id:4,type:"business",rut_CI:"214083090013",nombre:"BARRACA ARAUJO",nombre_fantasia:"",nombre_contacto:"",departamento:"Artigas",ciudad:"",direccion:"Andrés Cheveste 747",tel:"",cel:"",email:""},{id:5,type:"business",rut_CI:"212800190013",nombre:"BASELTO S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Paysandú",ciudad:"",direccion:"Treinta y Tres 2107",tel:"",cel:"",email:""},{id:6,type:"business",rut_CI:"211480880016",nombre:"CAMPODONEL S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Montevideo",ciudad:"Montevideo",direccion:"Ejido 1656",tel:"",cel:"",email:""},{id:7,type:"business",rut_CI:"211446420016",nombre:"CALISTER S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Canelones",ciudad:"",direccion:"Dorado (ex Oficial 2) N° 84 Esq. Camino Carrasco",tel:"",cel:"",email:""},{id:8,type:"business",rut_CI:"020478650014",nombre:"EL SAUZAL AGRONEGOCIOS S.R.L.",nombre_fantasia:"",nombre_contacto:"",departamento:"Rocha",ciudad:"",direccion:"Ruta 15 km 131,500",tel:"",cel:"",email:""},{id:9,type:"business",rut_CI:"214547540011",nombre:"ESTERO S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Montevideo",ciudad:"",direccion:"J.B.Alberdi 6420",tel:"",cel:"",email:""},{id:10,type:"business",rut_CI:"213630090011",nombre:"DETYSUL S.A.",nombre_fantasia:"",nombre_contacto:"",departamento:"Cerro Largo",ciudad:"",direccion:"Cmno Vecinal S/N - P410605c",tel:"",cel:"",email:""}];return a},this.getSingle=function(a){var b,c=this.getAll();return c.forEach(function(c,d){c.id==a&&(b=c)}),b}}]),angular.module("eFacturaApp").controller("EditPerfilCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("eFacturaApp").service("Facturas",function(){this.getAll=function(){var a=[{id:1,client_id:1,client_name:"AGROTERRA S.A.",create_date:"10/11/2016",bill_type:"Factura Contado",bill_number:"A 0001",bill_items:[{cantidad:1,precio:3300,desc:"Servicios Prestados"},{cantidad:2,precio:4500,desc:"Transporte"}],observaciones:"",moneda:"UYU",sub_total:7800,iva:1716,total:9516},{id:2,client_id:3,client_name:"AGROMOTORA FLORES",create_date:"02/11/2016",bill_type:"Factura Crédito",bill_number:"A 0002",bill_items:[{cantidad:2,precio:3567,desc:"Servicios Prestados"},{cantidad:8,precio:1233,desc:"Transporte"}],observaciones:"",moneda:"UYU",sub_total:16998,iva:3739.56,total:20737.56},{id:3,client_id:5,client_name:"BASELTO S.A.",create_date:"07/11/2016",bill_type:"NC",bill_number:"A 0003",bill_items:[{cantidad:1,precio:5488,desc:"Servicios Prestados"},{cantidad:2,precio:3200,desc:"Reparaciones"},{cantidad:2,precio:1205,desc:"Reparaciones"}],observaciones:"",moneda:"UYU",sub_total:14298,iva:3145.56,total:17443.56},{id:4,client_id:9,client_name:"ESTERO S.A.",create_date:"14/11/2016",bill_type:"NC",bill_number:"A 0003",bill_items:[{cantidad:1,precio:20365,desc:"Servicios Prestados"},{cantidad:2,precio:3033,desc:"Transporte"}],observaciones:"",moneda:"UYU",sub_total:26431,iva:5814.82,total:32245.82}];return a},this.getSingle=function(a){var b,c=this.getAll();return c.forEach(function(c,d){c.id==a&&(b=c)}),b}}),angular.module("eFacturaApp").controller("DocdetailsCtrl",["$scope","$routeParams","Facturas","Clients",function(a,b,c,d){a.id=b.id,a.print=b.print,a.factura=c.getSingle(a.id),a.client=d.getSingle(a.factura.client_id),a.printPage=function(){window.print()},a.facturaExportHeaders=["Número de Factura","Fecha","Cliente","RUT / CI","Dirección","Departamento","Descripción","Cantidad","Precio Unit.","Total Item","Sub-Total","IVA","Total"],a.facturaExport=[],a.factura.bill_items.forEach(function(b,c){var d={a:a.factura.bill_number,b:a.factura.create_date,c:a.factura.client_name,d:a.client.rut_CI,e:a.client.direccion,f:a.client.departamento,g:b.desc,h:b.cantidad,i:b.precio,j:b.precio*b.cantidad};a.facturaExport.push(d)}),a.facturaExport.push({a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:a.factura.sub_total,l:a.factura.iva,m:a.factura.total})}]),angular.module("eFacturaApp").directive("login",["$rootScope","authService",function(a,b){return{template:'<button ng-if="!isAuthenticated" class="btn btn-default" ng-click="authService.login()">Log In</button> <button ng-if="isAuthenticated" class="btn btn-default" ng-click="authService.logout()">Log Out</button> ',restrict:"E",link:function(a,b,c){}}}]),angular.module("eFacturaApp").service("authService",["lock","authManager",function(a,b){return this.login=function(){a.show()},this.registerAuthenticationListener=function(){a.on("authenticated",function(a){localStorage.setItem("id_token",a.idToken),b.authenticate()})},this.logout=function(){localStorage.removeItem("id_token"),localStorage.removeItem("profile"),b.unauthenticate()},{login:this.login,logout:this.logout,registerAuthenticationListener:this.registerAuthenticationListener}}]),angular.module("eFacturaApp").run(["$templateCache",function(a){a.put("views/add-cliente.html",'<section class="row"> <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12 col-lg-offset-1 col-md-offset-1"> <div class="row"> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 vBottom"> <h1 class="mb0">Nuevo Cliente</h1> </div> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right vBottom"> <button ng-show="typeSelected" class="btn btn-default"> <i class="material-icons">save</i> </button> <button ng-class="{hide: typeSelected}" ng-show="!typeSelected" ng-click="setType(\'person\')" class="btn btn-primary"> <i class="material-icons">person_add</i> Persona Física </button> <button ng-class="{hide: typeSelected}" ng-show="!typeSelected" ng-click="setType(\'business\')" class="btn btn-primary"> <i class="material-icons">business</i> Empresa </button> </div> </div> <hr> <section ng-show="typeSelected"> <form ng-show="clientType == \'person\'"> <div class="input-group form-group"> <label class="input-group-addon" for="rut">C.I.</label> <input type="text" class="form-control" id="rut" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="nombre">Nombre Completo</label> <input type="text" class="form-control" id="nombre" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Dirección</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Teléfono</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">E-mail</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" value=""> </div> </form> <form ng-show="clientType == \'business\'"> <div class="input-group form-group"> <label class="input-group-addon" for="rut">Razón Social</label> <input type="text" class="form-control" id="rut" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="nombre">Nombre Fantasía</label> <input type="text" class="form-control" id="nombre" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">N° RUT</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Nombre de Contacto</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Teléfono</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">E-mail</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Ciudad</label> <input type="text" class="form-control" id="departamento" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Dirección</label> <input type="text" class="form-control" id="departamento" value=""> </div> <hr> <hr> <h3>Estudio Contable o Contador</h3> <hr> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Nombre</label> <input type="text" class="form-control" id="departamento"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Teléfono</label> <input type="text" class="form-control" id="departamento"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">E-mail</label> <input type="text" class="form-control" id="departamento"> </div> </form> </section> </div> </section>'),a.put("views/clientes.html",'<section class="row"> <div class="col-lg-11 col-md-11 col-sm-12 col-xs-12"> <div style="width:calc(100% - 30px); position:relative"> <div class="cient_list_header" fixedwidth> <div class="input-group search_box"> <label class="input-group-addon"><i class="material-icons">search</i></label> <input type="text" class="form-control" placeholder="Buscar..." ng-model="searchClient"> </div> <a href="#/clientes/nuevo" class="btn btn-primary"> Agregar cliente </a> </div> </div> <table class="table table-striped table-bordered" style="margin-top:66px"> <thead> <tr> <th>RUT / C.I.</th> <th class="table_sort_head" ng-click="sortType = \'nombre\'; sortReverse = !sortReverse"> <span>Nombre</span> <i ng-show="!sortReverse" class="material-icons">keyboard_arrow_down</i> <i ng-show="sortReverse" class="material-icons">keyboard_arrow_up</i> </th> <th>Dirección</th> <th class="table_sort_head" ng-click="sortType = \'departamento\'; sortReverse = !sortReverse"> <span>Departamento</span> <i ng-show="!sortReverse" class="material-icons">keyboard_arrow_down</i> <i ng-show="sortReverse" class="material-icons">keyboard_arrow_up</i> </th> <th>Editar / Eliminar</th> </tr> </thead> <tbody> <tr ng-repeat="data in clientesLista | orderBy:sortType:sortReverse | filter:searchClient"> <td>{{data.rut_CI}}</td> <td>{{data.nombre}}</td> <td>{{data.direccion}}</td> <td>{{data.departamento}}</td> <td class="clients_table_edit_remove"> <a href="#/clientes/editar/{{data.id}}" class="btn btn-default edit_btn"> <i class="material-icons">edit</i> </a> <button class="btn btn-default remove_btn"> <i class="material-icons">remove</i> </button> </td> </tr> </tbody> </table> </div> </section> <a href="#/clientes/nuevo" class="btn btn-primary btn_float_add"> <i class="material-icons">add</i> </a>'),a.put("views/docdetails.html",'<section class="doc_details_wrapp"> <form> <h3 class="text-right text-danger factura_numb"> <span>{{factura.create_date}}</span> <span>{{factura.bill_number}}</span> </h3> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_1 = !panelClose_1"> Datos del Cliente <i class="material-icons">{{panelClose_1 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_1"> <div class="form-group row"> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="client">Cliente</label> <input type="text" class="form-control" id="client" ng-value="client.nombre" disabled> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="buyer_rut">RUT / CI</label> <input type="number" class="form-control" id="buyer_rut" ng-value="client.rut_CI" disabled> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="address">Dirección</label> <input type="text" class="form-control" id="address" ng-value="client.direccion" disabled> </div> </div> </div> <div class="form-group row"> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" ng-value="client.departamento" disabled> </div> </div> </div> </div> </div> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_3 = !panelClose_3"> Detalle la factura <i class="material-icons">{{panelClose_3 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_3"> <div class="row"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <table class="table table-striped table-condensed table-bordered"> <thead> <tr> <th>Descripción</th> <th>Cantidad</th> <th>Precio Unit.</th> <th>Total</th> </tr> </thead> <tbody> <tr ng-repeat="item in factura.bill_items"> <td style="max-width: 500px">{{item.desc}}</td> <td>{{item.cantidad}}</td> <td>{{moneda + \' \' + item.precio}}</td> <td>{{moneda + \' \' + (item.precio * item.cantidad) }}</td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-body"> <div class="form-group row"> <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12"> <div class="form-group"> <label for="observaciones">Observaciones</label> <textarea disabled ng-model="factura.observaciones" id="observaciones" class="form-control" rows="7" style="resize: none"></textarea> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">Sub-Total: </label> <span>{{factura.moneda + \' \' + factura.sub_total}}</span> </div> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">IVA: </label> <span>{{factura.moneda + \' \' + factura.iva}}</span> </div> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">Total: </label> <span class="absolute_total">{{factura.moneda + \' \' + factura.total}}</span> </div> </div> </div> </div> </div> </div> <div class="text-right"> <button type="submit" class="btn btn-primary btn_print" ng-click="printPage()"> <i class="material-icons">print</i> Imprimir </button> <button type="button" class="btn btn-primary" ng-csv="facturaExport" csv-header="facturaExportHeaders" filename="Factura-{{client.nombre}}-{{factura.create_date}}.xls"> <i class="material-icons">file_download</i> Exportar </button> </div> </form> </section>'),a.put("views/edit-cliente.html",'<section class="row"> <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12 col-lg-offset-1 col-md-offset-1"> <div class="row"> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 vBottom"> <h1 class="mb0">Editar Cliente</h1> </div> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right vBottom"> <button class="btn btn-default"> <i class="material-icons">save</i> </button> </div> </div> <hr> <form ng-show="cliente.type == \'person\'"> <div class="input-group form-group"> <label class="input-group-addon" for="rut">C.I.</label> <input type="text" class="form-control" id="rut" ng-model="cliente.rut_CI" ng-value="cliente.rut_CI"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="nombre">Nombre Completo</label> <input type="text" class="form-control" id="nombre" ng-model="cliente.nombre" ng-value="cliente.nombre"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Dirección</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.direccion" ng-value="cliente.direccion"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Teléfono</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.tel" ng-value="cliente.tel"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.cel" ng-value="cliente.cel"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">E-mail</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.email" ng-value="cliente.email"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" ng-model="cliente.departamento" ng-value="cliente.departamento"> </div> </form> <form ng-show="cliente.type == \'business\'"> <div class="input-group form-group"> <label class="input-group-addon" for="rut">Razón Social</label> <input type="text" class="form-control" id="rut" ng-model="cliente.nombre" ng-value="cliente.nombre"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="nombre">Nombre Fantasía</label> <input type="text" class="form-control" id="nombre" ng-model="cliente.nombre_fantasia" ng-value="cliente.nombre_fantasia"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">N° RUT</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.rut_CI" ng-value="cliente.rut_CI"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Nombre de Contacto</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.nombre_contacto" ng-value="cliente.nombre_contacto"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Teléfono</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.tel" ng-value="cliente.tel"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.cel" ng-value="cliente.cel"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">E-mail</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.email" ng-value="cliente.email"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" ng-model="cliente.cel" ng-value="cliente.cel"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" ng-model="cliente.departamento" ng-value="cliente.departamento"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Ciudad</label> <input type="text" class="form-control" id="departamento" ng-model="cliente.ciudad" ng-value="cliente.ciudad"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Dirección</label> <input type="text" class="form-control" id="departamento" ng-model="cliente.direccion" ng-value="cliente.direccion"> </div> <hr> <hr> <h3>Estudio Contable o Contador</h3> <hr> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Nombre</label> <input type="text" class="form-control" id="departamento"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Teléfono</label> <input type="text" class="form-control" id="departamento"> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">E-mail</label> <input type="text" class="form-control" id="departamento"> </div> </form> </div> </section>'),a.put("views/edit-perfil.html",'<section class="row"> <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12 col-lg-offset-1 col-md-offset-1"> <div class="row"> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 vBottom"> <h1 class="mb0">Editar Perfil</h1> </div> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 text-right vBottom"> <button class="btn btn-default"> <i class="material-icons">save</i> </button> </div> </div> <hr> <form> <div class="input-group form-group"> <label class="input-group-addon" for="rut">Razón Social</label> <input type="text" class="form-control" id="rut" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="nombre">Nombre Fantasía</label> <input type="text" class="form-control" id="nombre" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">N° RUT</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Nombre de Contacto</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Teléfono</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">E-mail</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="direccion">Celular</label> <input type="text" class="form-control" id="direccion" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Ciudad</label> <input type="text" class="form-control" id="departamento" value=""> </div> <div class="input-group form-group"> <label class="input-group-addon" for="departamento">Dirección</label> <input type="text" class="form-control" id="departamento" value=""> </div> </form> </div> </section>'),a.put("views/factura.html",'<div class="factura_wrap row"> <div class="col-sm-12"> <ul class="nav nav-tabs"> <li role="presentation" class="active"><a href="#/factura">Factura Contado</a></li> <li role="presentation"><a href="#/factura/tipo2">Factura Crédito</a></li> </ul> <section class="factura_form_wrap"> <form> <h3 class="text-right text-danger factura_numb">A 0001</h3> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_1 = !panelClose_1"> Datos del Cliente <i class="material-icons">{{panelClose_1 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_1"> <div class="form-group row"> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="client">Cliente</label> <ui-select ng-model="clientSelected.value"> <ui-select-match> <span ng-bind="$select.selected.nombre"></span> </ui-select-match> <ui-select-choices repeat="client in (clientes | filter: $select.search) track by client.id"> <span ng-bind="client.nombre"></span> </ui-select-choices> </ui-select> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="buyer_rut">RUT / CI</label> <input type="number" class="form-control" id="buyer_rut" ng-value="clientSelected.value.rut_CI" disabled> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="address">Dirección</label> <input type="text" class="form-control" id="address" ng-value="clientSelected.value.direccion" disabled> </div> </div> </div> <div class="form-group row"> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" ng-value="clientSelected.value.departamento" disabled> </div> </div> </div> </div> </div> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_2 = !panelClose_2"> Añadir a la factura <i class="material-icons">{{panelClose_2 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_2"> <div class="form-group row"> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="desc">Descripción</label> <textarea ng-model="desc" id="desc" class="form-control" rows="1"></textarea> </div> </div> <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="amount">Cantidad</label> <input ng-model="cantidad" type="number" min="1" class="form-control" id="amount" placeholder=""> </div> </div> <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="price">Precio Unit.</label> <input ng-model="precio" type="number" class="form-control" id="price" placeholder=""> </div> </div> </div> <div class="form-group row"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right"> <button ng-click="add()" type="submit" class="btn btn-default"><i class="material-icons">add</i></button> </div> </div> </div> </div> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_3 = !panelClose_3"> Detalle la factura <i class="material-icons">{{panelClose_3 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_3"> <div class="row"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <table class="table table-striped table-condensed table-bordered"> <thead> <tr> <th>Descripción</th> <th>Cantidad</th> <th>Precio Unit.</th> <th>Total</th> <th>Eliminar Item</th> </tr> </thead> <tbody> <tr ng-repeat="item in billItems"> <td style="max-width: 500px">{{item.desc}}</td> <td>{{item.cantidad}}</td> <td>{{moneda + \' \' + item.precio}}</td> <td>{{moneda + \' \' + (item.precio * item.cantidad) }}</td> <td style="width: 100px; text-align: right"> <button class="btn btn-default" ng-click="removeItem($index)"> <i class="material-icons">remove</i> </button> </td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-body"> <div class="form-group row"> <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12"> <div class="form-group"> <label for="observaciones">Observaciones</label> <textarea ng-model="observaciones" id="observaciones" class="form-control" rows="7"></textarea> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="form-group input-group total_data_box"> <label class="input-group-addon" for="moneda">Moneda</label> <select ng-model="moneda" id="moneda" class="form-control" ng-change="changeCurrency()"> <option value="UYU">Pesos</option> <option value="USD">Dolares</option> </select> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">Sub-Total: </label> <span>{{moneda + \' \' + subTotal}}</span> </div> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">IVA: </label> <span>{{moneda + \' \' + iva}}</span> </div> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">Total: </label> <span class="absolute_total">{{moneda + \' \' + total}}</span> </div> </div> </div> </div> </div> </div> <div class="text-right"> <button type="submit" class="btn btn-primary">Facturar</button> </div> </form> </section> </div> </div>'),
a.put("views/facturatipo2.html",'<div class="factura_wrap row"> <div class="col-sm-12"> <ul class="nav nav-tabs"> <li role="presentation"><a href="#/factura">Factura Contado</a></li> <li role="presentation" class="active"><a href="#/factura/tipo2">Factura Crédito</a></li> </ul> <section class="factura_form_wrap"> <form> <h3 class="text-right text-danger factura_numb">A 0001</h3> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_1 = !panelClose_1"> Datos del Cliente <i class="material-icons">{{panelClose_1 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_1"> <div class="form-group row"> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="client">Cliente</label> <ui-select ng-model="clientSelected.value"> <ui-select-match> <span ng-bind="$select.selected.nombre"></span> </ui-select-match> <ui-select-choices repeat="client in (clientes | filter: $select.search) track by client.id"> <span ng-bind="client.nombre"></span> </ui-select-choices> </ui-select> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="buyer_rut">RUT / CI</label> <input type="number" class="form-control" id="buyer_rut" ng-value="clientSelected.value.rut_CI" disabled> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="address">Dirección</label> <input type="text" class="form-control" id="address" ng-value="clientSelected.value.direccion" disabled> </div> </div> </div> <div class="form-group row"> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="departamento">Departamento</label> <input type="text" class="form-control" id="departamento" ng-value="clientSelected.value.departamento" disabled> </div> </div> </div> </div> </div> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_2 = !panelClose_2"> Añadir a la factura <i class="material-icons">{{panelClose_2 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_2"> <div class="form-group row"> <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="desc">Descripción</label> <textarea ng-model="desc" id="desc" class="form-control" rows="1"></textarea> </div> </div> <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="amount">Cantidad</label> <input ng-model="cantidad" type="number" min="1" class="form-control" id="amount" placeholder=""> </div> </div> <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12"> <div class="input-group"> <label class="input-group-addon" for="price">Precio Unit.</label> <input ng-model="precio" type="number" class="form-control" id="price" placeholder=""> </div> </div> </div> <div class="form-group row"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-right"> <button ng-click="add()" type="submit" class="btn btn-default"><i class="material-icons">add</i></button> </div> </div> </div> </div> <div class="panel panel-primary"> <div class="panel-heading" ng-click="panelClose_3 = !panelClose_3"> Detalle la factura <i class="material-icons">{{panelClose_3 ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\'}}</i> </div> <div class="panel-body" uib-collapse="panelClose_3"> <div class="row"> <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> <table class="table table-striped table-condensed table-bordered"> <thead> <tr> <th>Descripción</th> <th>Cantidad</th> <th>Precio Unit.</th> <th>Total</th> <th>Eliminar Item</th> </tr> </thead> <tbody> <tr ng-repeat="item in billItems"> <td style="max-width: 500px">{{item.desc}}</td> <td>{{item.cantidad}}</td> <td>{{moneda + \' \' + item.precio}}</td> <td>{{moneda + \' \' + (item.precio * item.cantidad) }}</td> <td style="width: 100px; text-align: right"> <button class="btn btn-default" ng-click="removeItem($index)"> <i class="material-icons">remove</i> </button> </td> </tr> </tbody> </table> </div> </div> </div> </div> <div class="panel panel-default"> <div class="panel-body"> <div class="form-group row"> <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12"> <div class="form-group"> <label for="observaciones">Observaciones</label> <textarea ng-model="observaciones" id="observaciones" class="form-control" rows="7"></textarea> </div> </div> <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"> <div class="form-group input-group total_data_box"> <label class="input-group-addon" for="moneda">Moneda</label> <select ng-model="moneda" id="moneda" class="form-control" ng-change="changeCurrency()"> <option value="UYU">Pesos</option> <option value="USD">Dolares</option> </select> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">Sub-Total: </label> <span>{{moneda + \' \' + subTotal}}</span> </div> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">IVA: </label> <span>{{moneda + \' \' + iva}}</span> </div> </div> <div class="form-group"> <div class="input-group total_data_box"> <label class="input-group-addon" for="observaciones">Total: </label> <span class="absolute_total">{{moneda + \' \' + total}}</span> </div> </div> </div> </div> </div> </div> <div class="text-right"> <button type="submit" class="btn btn-primary">Facturar</button> </div> </form> </section> </div> </div>'),a.put("views/home.html",'<h1 class="text-danger">Pagina en construcción</h1> <h3><a href="#/factura">ir a facturar</a></h3> <hr> <div> {{clientTest}} </div>'),a.put("views/reporte.html",'<section class="row"> <div class="col-lg-11 col-md-11 col-sm-12 col-xs-12"> <div style="width:calc(100% - 30px); position:relative"> <div class="cient_list_header" fixedwidth> <div class="input-group search_box"> <label class="input-group-addon"><i class="material-icons">search</i></label> <input type="text" class="form-control" placeholder="Buscar..." ng-model="searchBill"> </div> <div class="input-group"> <select ng-model="filterType" class="form-control" style="box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)"> <option value="">Tipo de documento</option> <option value="Factura Contado">Factura Contado</option> <option value="Factura Crédito">Factura Crédito</option> <option value="NC">NC</option> </select> </div> </div> </div> <table class="table table-striped table-bordered" style="margin-top:66px"> <thead> <tr> <th> <span>Fecha de Emisión</span> </th> <th class="table_sort_head" ng-click="bill_type = \'nombre\'; sortReverse = !sortReverse"> <span>Tipo Doc.</span> <i ng-show="!sortReverse" class="material-icons">keyboard_arrow_down</i> <i ng-show="sortReverse" class="material-icons">keyboard_arrow_up</i> </th> <th>N° Doc</th> <th class="table_sort_head" ng-click="sortType = \'client_name\'; sortReverse = !sortReverse"> <span>Cliente</span> <i ng-show="!sortReverse" class="material-icons">keyboard_arrow_down</i> <i ng-show="sortReverse" class="material-icons">keyboard_arrow_up</i> </th> <th class="table_sort_head" ng-click="sortType = \'total\'; sortReverse = !sortReverse"> <span>Importe</span> <i ng-show="!sortReverse" class="material-icons">keyboard_arrow_down</i> <i ng-show="sortReverse" class="material-icons">keyboard_arrow_up</i> </th> <th>Ver Doc.</th> <th>Nota de Crédito</th> </tr> </thead> <tbody> <tr ng-repeat="data in facturasLista | orderBy:sortType:sortReverse | filter:searchBill | filter:{bill_type: filterType}"> <td>{{data.create_date}}</td> <td>{{data.bill_type}}</td> <td>{{data.bill_number}}</td> <td>{{data.client_name}}</td> <td>{{data.moneda +\' \'+ data.total}}</td> <td class="text-center"> <a href="#/reporte/{{data.id}}" class="btn btn-default edit_btn"> <i class="material-icons">search</i> </a> </td> <td class="text-center"> <button class="btn btn-default"> Emitir </button> </td> </tr> </tbody> </table> </div> </section>'),a.put("views/side-nav.html",'<nav> <ul> <li> <a href="#/factura" ng-click="menuToggle_itemClick()"> <i class="material-icons">receipt</i><span>Emi. Doc. Elec.</span> </a> </li> <li> <a href="#/reporte" ng-click="menuToggle_itemClick()"> <i class="material-icons">list</i><span>Reportes Doc. Elec.</span> </a> </li> <li> <a href="#/clientes" ng-click="menuToggle_itemClick()"> <i class="material-icons">people</i><span>Clientes</span> </a> </li> <li> <a href="#/perfil" ng-click="menuToggle_itemClick()"> <i class="material-icons">settings</i><span>Editar Perfil</span> </a> </li> </ul> </nav>')}]);